<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Barrier &mdash; MonteCarloEngine  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BrownianMotion" href="BrownianMotion.html" />
    <link rel="prev" title="Functions" href="../Functions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MonteCarloEngine
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction.html">Introduction &amp; Readme</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Functions.html">Functions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Functions.html#stateless-functions">Stateless functions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../Functions.html#stateful-functions">Stateful functions</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Barrier</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
<li class="toctree-l4"><a class="reference internal" href="#arguments">Arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="BrownianMotion.html">BrownianMotion</a></li>
<li class="toctree-l3"><a class="reference internal" href="CorrelatedGaussian.html">Linear1DInterpolation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Division.html">Division</a></li>
<li class="toctree-l3"><a class="reference internal" href="GeometricalBrownianMotion.html">BrownianMotion</a></li>
<li class="toctree-l3"><a class="reference internal" href="HullWhite1FactorModel.html">refs: processes: alpha, theta, sigma</a></li>
<li class="toctree-l3"><a class="reference internal" href="HullWhite1FactorModel.html#args-alpha-theta-sigma-constants">args: alpha, theta, sigma constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="IndependentGaussian.html">Sum</a></li>
<li class="toctree-l3"><a class="reference internal" href="Multiplication.html">Multiplication</a></li>
<li class="toctree-l3"><a class="reference internal" href="Option.html">European option</a></li>
<li class="toctree-l3"><a class="reference internal" href="Polynom.html">Polynom</a></li>
<li class="toctree-l3"><a class="reference internal" href="SumOfFutureValues.html">SumOfFutureValues</a></li>
<li class="toctree-l3"><a class="reference internal" href="ZeroCouponBond.html">ZeroCouponBond</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ComputationalGrid.html">Computational Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EvaluationGrid.html">Evaluation Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EvaluationResult.html">Evaluation Results</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MonteCarloEngine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Functions.html">Functions</a></li>
      <li class="breadcrumb-item active">Barrier</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/functions/Barrier.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="barrier">
<h1>Barrier<a class="headerlink" href="#barrier" title="Permalink to this heading"></a></h1>
<p>A barrier state starts from some initial value S0.
On each computation step we verify the barrier crossing condition, and if it is satisfied, the barrier state will
be set to STATE=valueOnCrossing.</p>
<p>For direction ‘up’:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>if(Sold&lt;level and Snew&gt;=level)
    barrierState = valueOnCrossing;
</pre></div>
</div>
<p>For direction ‘down’:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>if(Sold&gt;level and Snew&lt;=level)
    barrierState = valueOnCrossing;
</pre></div>
</div>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h2>
<p>The barrier function expectes exactly one reference: an <strong>underlying</strong>.</p>
<section id="ref-0">
<h3>[ref 0]<a class="headerlink" href="#ref-0" title="Permalink to this heading"></a></h3>
<p>The underlying process.</p>
</section>
</section>
<section id="arguments">
<h2>Arguments<a class="headerlink" href="#arguments" title="Permalink to this heading"></a></h2>
<section id="arg-0-level">
<h3>[arg 0] level<a class="headerlink" href="#arg-0-level" title="Permalink to this heading"></a></h3>
<p>Barrier level</p>
</section>
<section id="arg-1-valueoncrossing">
<h3>[arg 1] valueOnCrossing<a class="headerlink" href="#arg-1-valueoncrossing" title="Permalink to this heading"></a></h3>
<p>The value we set when the barrier is crossed.</p>
</section>
<section id="arg-2-direction">
<h3>[arg 2] direction<a class="headerlink" href="#arg-2-direction" title="Permalink to this heading"></a></h3>
<p>This is the barrier crossing condition.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>value</p></th>
<th class="head text-right"><p>direction</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-1</p></td>
<td class="text-right"><p>down</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td class="text-right"><p>any (up or down)</p></td>
</tr>
<tr class="row-even"><td><p>+1</p></td>
<td class="text-right"><p>up</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.has_start  = false,
.nargs_min  = 4,
.nrefs_min  = 1,
</pre></div>
</div>
<p>r of time windows</p>
<p>The number of time windows (say <strong>m</strong>) when the barrier will be checked.
The next <strong>m * 2</strong> parameters will be treated as [from,to) pairs, time windows
where the barrier condition will be checked. If <strong>m==0</strong>, the barrier condition
will be checked on all time step.</p>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<section id="s0-0-args-1000-1-1-0-0">
<h3>S0=0, args=[1000,1,-1,0,0]<a class="headerlink" href="#s0-0-args-1000-1-1-0-0" title="Permalink to this heading"></a></h3>
<p>The barrier inital state is 0. We check on any time step (because arg[4]==0)
the the barrier level==1000 will be crossed in the down direction (for example,
from 1000.5 to 1000). If the condition is NOT fulfilled, we don’t change the
barrier state. Otherwise, we set the barrier value (arg[3]==0 means ‘set’)
to value 1 (because arg[1]==1). Obvioulsy, only the first crossing over
the barrier will have an effect, when we change the barrier state from 0
(because S0==0) to 1 (because arg[1]==1 and arg[3]==0)</p>
</section>
<section id="s0-0-args-1000-1-1-0-2-111-1-222-2-333-3-444-4">
<h3>S0=0, args=[1000,1,-1,0,2,111.1,222.2,333.3,444.4]<a class="headerlink" href="#s0-0-args-1000-1-1-0-2-111-1-222-2-333-3-444-4" title="Permalink to this heading"></a></h3>
<p>The same as above, but wee only check the barrier condition if the time
is in one of the two (because arg[5]==2) windows:</p>
<ul class="simple">
<li><p>[111.1,222.2)</p></li>
<li><p>[333.3,444.4)</p></li>
</ul>
</section>
<section id="s0-0-args-1000-1-1-1-2-111-1-222-2-333-3-444-4">
<h3>S0=0, args=[1000,1,-1,1,2,111.1,222.2,333.3,444.4]<a class="headerlink" href="#s0-0-args-1000-1-1-1-2-111-1-222-2-333-3-444-4" title="Permalink to this heading"></a></h3>
<p>The same as above, we ‘count’ (arg[3]==1 is the increment)
how many times the barrier is crossed in the ‘down’ direction.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Functions.html" class="btn btn-neutral float-left" title="Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="BrownianMotion.html" class="btn btn-neutral float-right" title="BrownianMotion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2023, Alexander Zvyagin.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>